{"ast":null,"code":"var _jsxFileName = \"/Users/marshoward/Development/code/double-dog-react/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport adapter from './adapter';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}), document.getElementById('root')); // If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\nserviceWorker.unregister();\nconst playButton = document.getElementById(\"play-button\");\nconst shotButton = document.getElementById(\"shot-button\");\nconst passButton = document.getElementById(\"pass-button\");\nconst infoSpace = document.getElementById(\"rules-scoreboard-div\");\nconst intro = document.getElementById(\"intro-div\");\nconst addPlayer = document.getElementById(\"add-player-field\");\nconst addPlayerForm = document.getElementById(\"add-player-form\");\nconst playerNameField = document.getElementById(\"add-player-field\");\nconst scoreboard = document.getElementById(\"scoreboard\");\nconst leftMenu = document.getElementById(\"left-menu\");\nconst playerDareButton = document.getElementById(\"player-dares\");\nconst allDaresButton = document.getElementById(\"game-dares\");\nconst ruleButton = document.getElementById(\"rules\");\nconst turnPlayer = document.getElementById(\"turn-player\");\nconst showDare = document.getElementById(\"dares\");\nconst playerScore = document.getElementById(\"game-score\");\nconst playerShots = document.getElementById(\"shots-count\");\nvar winScore;\nvar eventSpace;\nvar listOfDares = [];\nvar listOfGames = [];\nvar previousDares = [];\nvar recentDares = [];\nvar gameId = 0;\nvar currentDare = {};\nvar currentId = -1;\nvar currentPlayers = {};\nvar listOfPlayerTurns = {};\nvar listOfPlayersTurns = {};\nvar listOfGameTurns = {};\nvar randomPlayer = {};\nvar selectedPlayer = {};\nvar currentPlayer = currentPlayers[currentId];\naddPlayer.focus(); //class construstion\n\nclass Player {\n  constructor(id, name, score, shots) {\n    this.id = id;\n    this.name = name;\n    this.score = score;\n    this.shots = shots;\n  } //additional class methods\n\n\n  addScore() {\n    this.score += currentDare.points;\n  }\n\n  subtractScore() {\n    this.score -= currentDare.points;\n  }\n\n  addShot() {\n    this.shots += currentDare.shots;\n  }\n\n} //to be called on load\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  fetchDares();\n  startGame();\n}); //click event(s) for play button\n\ngameTurns(playButton, doneDare); //funcion to see if game is finished\n\nfunction gameWon() {\n  if (currentPlayer.score >= winScore) {\n    alert(\"Game OVER\\n\" + currentPlayer.name + \" has won the game!!\\n refresh the page to start a new game\");\n    playButton.disabled = true;\n    shotButton.disabled = true;\n    passButton.disabled = true;\n  }\n} //click event(s) for shot button\n\n\ngameTurns(shotButton, shotDare); //click event(s) for pass button\n\npassButton.addEventListener(\"click\", passDare, false);\npassButton.addEventListener(\"click\", getScoreboard, false); //click event for add player button \n\naddPlayerForm.addEventListener('submit', e => {\n  e.preventDefault();\n  let player = playerNameField.value;\n  player = capitalizeWord(player);\n  let newPlayer = {\n    name: player\n  };\n\n  if (player) {\n    adapter.createPlayer(newPlayer, gameId).then(res => {\n      //enable elements\n      fetchPlayers();\n      alert(player + \" was added\");\n      playerNameField.value = \"\";\n      playerNameField.placeholder = \"Add a Player\";\n    });\n    playButton.disabled = false;\n  } else {\n    alert(\"Please ener a name\");\n  }\n}); //creates a game, triggered on page load\n\nfunction startGame() {\n  alert(\"KNOW YOUR LIMIT: Double Dog Dare is designed as an adult “drinking game” but may be played without consumption of alcohol. According to the Surgeon General of the United States (1) women should not drink alcoholic beverages during pregnancy because of the risk of birth defects and (2) consumption of alcoholic beverages impairs your ability to operate machinery and may cause health problems. We do not recommend misuse of alcohol including excessive consumption, binge-drinking, drinking and driving/boating, and/or underage drinking. It is the players’ responsibility to monitor and moderate their alcohol consumption. We recommend that all players make adequate arrangements for their personal safety and transportation BEFORE playing.\");\n  adapter.createGame().then(res => {\n    fetchGame();\n  });\n} //capitalize first letter in player names\n\n\nfunction capitalizeWord(string) {\n  const s = string.toLowerCase();\n  return s.charAt(0).toUpperCase() + s.slice(1);\n} //fuctions to create and retrieve turns\n\n\nfunction gameTurns(button, buttonFunction) {\n  button.addEventListener(\"click\", buttonFunction, false);\n  button.addEventListener(\"click\", getScoreboard, false);\n  button.addEventListener(\"click\", function () {\n    generateDare(listOfDares);\n  }, false);\n  button.addEventListener(\"click\", function () {\n    createTurn();\n  }, false);\n} //reveal past dares in info space\n\n\nfunction showGameDares() {\n  var pastDares = [];\n  let currentName = \"\";\n  let currentText = \"\";\n\n  for (let i = 0; i < listOfGameTurns.length; i++) {\n    currentName = Object.values(currentPlayers).find(x => x.id === listOfPlayerTurns[listOfGameTurns[i].player_turn_id - 1].player_id).name;\n    currentText = listOfDares.find(x => x.id == listOfPlayerTurns.find(t => t.id === [listOfGameTurns[i].player_turn_id]).dare_id).text;\n    pastDares += `\n \t\t<span> \n \t\t\tturn: ${i + 1}<br>\n \t\t\tplayer: ${currentName}<br>\n\t\t\t\t\n \t\t\tdare: ${currentText}<br>\n\t\t\t<br>\n \t\t</span>\n \t`;\n  }\n\n  infoSpace.innerHTML = `<br><br><div class=\"ui raised segment\" id=\"past_dares\">\n \t\t<a class=\"ui red ribbon label\">All Past Dares</a>\n \t\t<br><br>` + pastDares + `</div>`;\n}\n\nfunction showPlayersDares() {\n  var playerDares = [];\n\n  for (let i = 0; i < listOfPlayersTurns.length; i++) {\n    playerDares += `\n \t\t<span> \n \t\t\tturn: ${i + 1}<br><br>\n \t\t\tdare: ${listOfDares[listOfPlayersTurns[i].dare_id - 1].text}<br>\n\t\t\t<br>\n \t\t</span>\n\n \t`;\n  }\n\n  infoSpace.innerHTML = `<br><br><div class=\"ui raised segment\" id=\"scores\">\n \t\t<a class=\"ui red ribbon label\">Your Past Dares</a>\n \t\t<br><br>` + playerDares + `</div>`;\n}\n\nfunction showRules() {\n  infoSpace.innerHTML = `<br><br><div class=\"ui raised segment\" id=\"past_dares\">\n \t\t<a class=\"ui red ribbon label\">Rules</a>\n \t\t<br><br>Welcome to Double Dog Dare <br><br> the rules are simple first one to 10 points wins! The turns go in order from the first person added to the last. \n \t\tWhen it is your turn you have the choice of: <br><br>  1. Doing the dare and gaining the points (if your dare involves another perosn they must also agree). <br><br> 2. Taking the penalty shot(s)\n \t\tallowing you to pass the dare without losing any points. <br><br> 3. Passing the dare avoiding the penalty shot(s) but also losing the losing the \n \t\tsame amount of points you would have gained(only if you have enough points to do so).  <br><br> 4. If you choose to not participate in any dare that is not your own you must take a shot and the the turn player may gain the points\n \t\t</div>`;\n}\n\nfunction createTurn() {\n  adapter.createPlayerTurn(currentPlayer.id, currentDare.id).then(res => {\n    fetchPlayerTurns();\n    fetchPlayersTurns();\n  });\n}\n\nfunction createGameTurn() {\n  adapter.createGameTurn(gameId, listOfPlayerTurns[listOfPlayerTurns.length - 1].id).then(res => {\n    fetchGameTurns();\n  });\n}\n\nfunction getScoreboard() {\n  var theScore = [];\n\n  for (let i = 0; i < Object.keys(currentPlayers).length; i++) {\n    theScore += `\n \t\t<span> \n \t\t\t${currentPlayers[i].name}<br>\n \t\t\tscore: ${currentPlayers[i].score}<br>\n\t\t\tshots: ${currentPlayers[i].shots}<br>\n\t\t\t<br>\n \t\t</span>\n\n \t`;\n  }\n\n  infoSpace.innerHTML = `<br><br><div class=\"ui raised segment\" id=\"scores\">\n \t\t<a class=\"ui red ribbon label\">Scoreboard</a>\n \t\t<br><br>` + theScore + `</div>`;\n}\n\nfunction doneDare() {\n  if (previousDares.length >= 1) {\n    if (currentPlayer.score + currentDare.points < 0) {\n      alert(\"you dont have enough points!\\n You will be given a new dare!!\");\n    } else if (currentPlayer.score + currentDare.points >= winScore) {\n      currentPlayer.addScore();\n      gameWon();\n    } else {\n      currentPlayer.addScore();\n      TurnPlayer();\n    }\n\n    playerScore.innerHTML = currentPlayer.score;\n  } else {\n    shotButton.disabled = false;\n    passButton.disabled = false; // buttons for scoreboard, rules, player dares, and game dares\n\n    intro.innerHTML = \"\";\n    playerDareButton.addEventListener(\"click\", showPlayersDares, false);\n    allDaresButton.addEventListener(\"click\", showGameDares, false);\n    ruleButton.addEventListener(\"click\", showRules, false);\n    scoreboard.addEventListener(\"click\", getScoreboard, false);\n    TurnPlayer();\n  }\n}\n\nfunction shotDare() {\n  if (leftMenu.childNodes.length > 13) {\n    removeEvent();\n    playButton.disabled = false;\n  } else {\n    currentPlayer.addShot();\n    getScoreboard();\n    TurnPlayer();\n  }\n}\n\nfunction passDare() {\n  if (currentPlayer.score <= 0) {\n    alert(\"you dont have any points! \\nYou will have to do the dare or take the penalty shot(s).\");\n  } else if (currentPlayer.score - currentDare.points < 0) {\n    alert(\"you dont have enough points to pass this dare! \\nYou will have to do the dare or take the penalty shot(s).\");\n  } else if (currentDare.points < 0) {\n    currentPlayer.addScore();\n    playerScore.innerHTML = currentPlayer.score;\n    getScoreboard();\n    TurnPlayer();\n    generateDare(listOfDares);\n    createTurn();\n  } else if (leftMenu.childNodes.length > 13) {\n    removeEvent();\n    playButton.disabled = false;\n  } else {\n    currentPlayer.subtractScore();\n    playerScore.innerHTML = currentPlayer.score;\n    getScoreboard();\n    TurnPlayer();\n    generateDare(listOfDares);\n    createTurn();\n  }\n} //cycles through the list of players\n\n\nfunction TurnPlayer() {\n  if (currentId >= Object.keys(currentPlayers).length - 1) {\n    currentId = -1;\n  }\n\n  currentId++;\n  currentPlayer = currentPlayers[currentId];\n  turnPlayer.innerHTML = \"Turn Player: \" + currentPlayer.name;\n  playerScore.innerHTML = currentPlayer.score;\n  playerShots.innerHTML = currentPlayer.shots;\n} //retieves game id\n\n\nfunction fetchGame() {\n  adapter.getGame().then(games => retrieveGame(games));\n} //collects dares from backend.\n\n\nfunction fetchDares() {\n  adapter.getDares().then(dares => retrieveDares(dares));\n} //collects players from backend.\n\n\nfunction fetchPlayers() {\n  adapter.getPlayers(gameId).then(players => retrievePlayers(players));\n} //collects player turns from backend.\n\n\nfunction fetchPlayerTurns() {\n  adapter.getPlayerTurns().then(playerTurns => retrievePlayerTurns(playerTurns));\n} //collects certain player turns\n\n\nfunction fetchPlayersTurns() {\n  adapter.getPlayerTurns().then(playerTurns => retrievePlayersTurns(playerTurns));\n} //collects game turns from backend.\n\n\nfunction fetchGameTurns() {\n  adapter.getGameTurns(gameId).then(gameTurns => retrieveGameTurns(gameTurns));\n}\n\nfunction retrieveGame(games) {\n  listOfGames = [];\n  games.forEach(game => {\n    listOfGames.push(game);\n  });\n  gameId = listOfGames[listOfGames.length - 1].id;\n  winScore = listOfGames[listOfGames.length - 1].winScore;\n} //all loaded Dares\n\n\nfunction retrieveDares(dares) {\n  let dareList = [];\n  dares.forEach(dare => {\n    dareList.push(dare);\n  });\n  listOfDares = dareList;\n} //all loaded players\n\n\nfunction retrievePlayers(players) {\n  let i = 0;\n  players.forEach(player => {\n    currentPlayers[i] = new Player(player.id, player.name, player.score, player.shots);\n    i++;\n  });\n} //load player turns\n\n\nfunction retrievePlayerTurns(playerTurns) {\n  let playerTurnList = [];\n  playerTurns.forEach(turn => {\n    playerTurnList.push(turn);\n  });\n  listOfPlayerTurns = playerTurnList;\n  createGameTurn();\n} //load game turns \n\n\nfunction retrieveGameTurns(gameTurns) {\n  let gameTurnsList = [];\n  gameTurns.forEach(gameTurn => {\n    gameTurnsList.push(gameTurn);\n  });\n  listOfGameTurns = gameTurnsList;\n} //load current players turns\n\n\nfunction retrievePlayersTurns(playerTurns) {\n  let playersTurnList = [];\n  playerTurns.forEach(turn => {\n    if (turn.player_id === currentPlayer.id) {\n      playersTurnList.push(turn);\n    }\n  });\n  listOfPlayersTurns = playersTurnList;\n} //randomly selects a Player.\n\n\nfunction generatePlayer() {\n  return Math.floor(Math.random() * Object.keys(currentPlayers).length);\n}\n\nfunction generateEvent() {\n  var node = document.createElement(\"A\");\n  node.setAttribute(\"id\", \"event\");\n  node.setAttribute(\"class\", \"item\");\n  var textnode = document.createTextNode(\"\");\n  node.appendChild(textnode);\n  leftMenu.appendChild(node);\n  eventSpace = document.getElementById(\"event\");\n}\n\nfunction removeEvent() {\n  leftMenu.removeChild(leftMenu.childNodes[13]);\n}\n\nfunction removelistener() {\n  eventSpace.removeEventListener(\"click\", function () {\n    startTimer(15, eventSpace);\n  }, false);\n} //randomly selects a dare.\n\n\nfunction generateDare() {\n  let ranDare = Math.floor(Math.random() * listOfDares.length);\n  currentDare = listOfDares[ranDare];\n  let dareText = currentDare.text; //checks to see if a random player needs to be inserted\n\n  if (recentDares.includes(currentDare.id)) {\n    console.log(currentDare.text);\n    console.log(\"dare recently occured, generating new one\");\n    generateDare();\n  } else {\n    if (currentDare.text.includes(\"15 seconds\")) {\n      playButton.disabled = true;\n      generateEvent();\n      eventSpace.textContent = \"Start Timer\";\n      eventSpace.addEventListener(\"click\", function () {\n        startTimer(15, eventSpace);\n      }, false);\n      removelistener();\n    } else if (currentDare.text.includes(\"Flip a coin\")) {\n      playButton.disabled = true;\n      generateEvent();\n      eventSpace.textContent = \"Flip A Coin\";\n      eventSpace.addEventListener(\"click\", function () {\n        coinFlip(4, eventSpace);\n      }, false);\n      removelistener();\n    } else if (dareText.includes(\"[RandomPlayer]\")) {\n      randomPlayer = generatePlayer();\n      selectedPlayer = currentPlayers[randomPlayer]; //stops current player from being the random player\n\n      if (selectedPlayer.id === currentPlayer.id) {\n        while (selectedPlayer.id === currentPlayer.id) {\n          randomPlayer = generatePlayer();\n          selectedPlayer = currentPlayers[randomPlayer];\n        }\n      }\n\n      dareText = dareText.replace(\"[RandomPlayer]\", selectedPlayer.name);\n    } else if (currentDare.text.includes(\"x is the\") && currentPlayer.shots < 3) {\n      console.log(\"new dare was chosen\");\n      generateDare();\n    }\n\n    showDare.innerHTML = dareText + `<br><br><span>points: </span>` + currentDare.points + `<br> <span>penalty shot(s): </span>` + currentDare.shots;\n    dareArchive(currentDare);\n\n    if (listOfGameTurns.length >= 10) {\n      recentDares.shift();\n      recentDares.push(currentDare.id);\n    } else {\n      recentDares.push(currentDare.id);\n    }\n  }\n}\n\nfunction startTimer(duration, display) {\n  let timer = duration,\n      minutes,\n      seconds;\n  setInterval(function () {\n    minutes = parseInt(timer / 60, 10);\n    seconds = parseInt(timer % 60, 10);\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\n    display.textContent = minutes + \":\" + seconds;\n\n    if (--timer === -1) {\n      removeEvent();\n      playButton.disabled = false;\n    }\n  }, 1000);\n}\n\nfunction coinFlip(duration, display) {\n  let timer = duration,\n      minutes,\n      seconds;\n  setInterval(function () {\n    minutes = parseInt(timer / 60, 10);\n    seconds = parseInt(timer % 60, 10);\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\n    display.textContent = display = Math.floor(Math.random() * 2) === 0 ? 'heads' : 'tails';\n\n    if (--timer === -1) {\n      removeEvent();\n      playButton.disabled = false;\n    }\n  }, 1000);\n} //        if (timer == 3)\n//\t        \tdisplay = (Math.floor(Math.random() * 2) == 0) ? 'heads' : 'tails';\n//\t     \telse if (--timer == 0) {\n//    \t\t\tremoveEvent()\n//    \t\t}\n//creates archive for all players of current game\n\n\nfunction dareArchive(currentDare) {\n  previousDares.push(currentDare);\n}","map":{"version":3,"sources":["/Users/marshoward/Development/code/double-dog-react/src/index.js"],"names":["React","ReactDOM","adapter","App","serviceWorker","render","document","getElementById","unregister","playButton","shotButton","passButton","infoSpace","intro","addPlayer","addPlayerForm","playerNameField","scoreboard","leftMenu","playerDareButton","allDaresButton","ruleButton","turnPlayer","showDare","playerScore","playerShots","winScore","eventSpace","listOfDares","listOfGames","previousDares","recentDares","gameId","currentDare","currentId","currentPlayers","listOfPlayerTurns","listOfPlayersTurns","listOfGameTurns","randomPlayer","selectedPlayer","currentPlayer","focus","Player","constructor","id","name","score","shots","addScore","points","subtractScore","addShot","addEventListener","fetchDares","startGame","gameTurns","doneDare","gameWon","alert","disabled","shotDare","passDare","getScoreboard","e","preventDefault","player","value","capitalizeWord","newPlayer","createPlayer","then","res","fetchPlayers","placeholder","createGame","fetchGame","string","s","toLowerCase","charAt","toUpperCase","slice","button","buttonFunction","generateDare","createTurn","showGameDares","pastDares","currentName","currentText","i","length","Object","values","find","x","player_turn_id","player_id","t","dare_id","text","innerHTML","showPlayersDares","playerDares","showRules","createPlayerTurn","fetchPlayerTurns","fetchPlayersTurns","createGameTurn","fetchGameTurns","theScore","keys","TurnPlayer","childNodes","removeEvent","getGame","games","retrieveGame","getDares","dares","retrieveDares","getPlayers","players","retrievePlayers","getPlayerTurns","playerTurns","retrievePlayerTurns","retrievePlayersTurns","getGameTurns","retrieveGameTurns","forEach","game","push","dareList","dare","playerTurnList","turn","gameTurnsList","gameTurn","playersTurnList","generatePlayer","Math","floor","random","generateEvent","node","createElement","setAttribute","textnode","createTextNode","appendChild","removeChild","removelistener","removeEventListener","startTimer","ranDare","dareText","includes","console","log","textContent","coinFlip","replace","dareArchive","shift","duration","display","timer","minutes","seconds","setInterval","parseInt"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport adapter from './adapter'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nconst playButton = document.getElementById(\"play-button\");\nconst shotButton = document.getElementById(\"shot-button\");\nconst passButton = document.getElementById(\"pass-button\");\nconst infoSpace = document.getElementById(\"rules-scoreboard-div\");\nconst intro = document.getElementById(\"intro-div\");\nconst addPlayer = document.getElementById(\"add-player-field\");\nconst addPlayerForm = document.getElementById(\"add-player-form\")\nconst playerNameField = document.getElementById(\"add-player-field\")\nconst scoreboard = document.getElementById(\"scoreboard\")\n\nconst leftMenu = document.getElementById(\"left-menu\")\nconst playerDareButton = document.getElementById(\"player-dares\");\nconst allDaresButton = document.getElementById(\"game-dares\");\nconst ruleButton = document.getElementById(\"rules\");\n\nconst turnPlayer = document.getElementById(\"turn-player\");\nconst showDare = document.getElementById(\"dares\");\nconst playerScore = document.getElementById(\"game-score\");\nconst playerShots = document.getElementById(\"shots-count\");\n\nvar winScore;\nvar eventSpace;\n\nvar listOfDares = [];\nvar listOfGames = [];\nvar previousDares = [];\nvar recentDares = [];\nvar gameId =0;\n\nvar currentDare = {};\nvar currentId = -1;\n\nvar currentPlayers = {};\nvar listOfPlayerTurns = {};\nvar listOfPlayersTurns = {};\nvar listOfGameTurns = {};\nvar randomPlayer = {};\nvar selectedPlayer = {};\n\n\nvar currentPlayer = currentPlayers[currentId];\n\naddPlayer.focus()\n\n\n//class construstion\nclass Player{\n\tconstructor(id, name, score, shots){\n\t\tthis.id = id;\n        this.name = name;\n        this.score = score;\n        this.shots = shots;\n\t}\n\n\t//additional class methods\n\taddScore() {\n\t\tthis.score += currentDare.points\n\t}\n\tsubtractScore(){\n\t\tthis.score -= currentDare.points\n\t}\n\taddShot(){\n\t\tthis.shots += currentDare.shots\n\t}\n}\n//to be called on load\ndocument.addEventListener('DOMContentLoaded', function(){\n \tfetchDares();\n \tstartGame();\n\n })\n\n//click event(s) for play button\ngameTurns(playButton,doneDare);\n\n\n//funcion to see if game is finished\nfunction gameWon(){\n\t\n\tif (currentPlayer.score >= winScore){\n\t\talert(\"Game OVER\\n\" + currentPlayer.name +\" has won the game!!\\n refresh the page to start a new game\")\n\t\tplayButton.disabled = true\n\t\tshotButton.disabled = true\n\t\tpassButton.disabled = true\n\t}\n}\n\n//click event(s) for shot button\ngameTurns(shotButton,shotDare);\n\n\n//click event(s) for pass button\n\tpassButton.addEventListener(\"click\", passDare,false);\n\tpassButton.addEventListener(\"click\", getScoreboard,false);\n//click event for add player button \naddPlayerForm.addEventListener('submit', e=> {\n\te.preventDefault()\n\n\tlet player = playerNameField.value\n\tplayer = capitalizeWord(player)\n\n\tlet newPlayer = {name: player}\n\n\tif(player){\n\t\tadapter.createPlayer(newPlayer,gameId).then(res=> {\n\t\t\t//enable elements\n\t\tfetchPlayers();\n\t\talert(player +\" was added\")\n\t\tplayerNameField.value = \"\"\n\t\tplayerNameField.placeholder=\"Add a Player\"\n\t\t\n\t\t})\n\t\tplayButton.disabled=false\n\t\t\n\t}\n\telse {\n\t\talert(\"Please ener a name\")\n\t}\n});\n\n//creates a game, triggered on page load\nfunction startGame(){\n\talert(\"KNOW YOUR LIMIT: Double Dog Dare is designed as an adult “drinking game” but may be played without consumption of alcohol. According to the Surgeon General of the United States (1) women should not drink alcoholic beverages during pregnancy because of the risk of birth defects and (2) consumption of alcoholic beverages impairs your ability to operate machinery and may cause health problems. We do not recommend misuse of alcohol including excessive consumption, binge-drinking, drinking and driving/boating, and/or underage drinking. It is the players’ responsibility to monitor and moderate their alcohol consumption. We recommend that all players make adequate arrangements for their personal safety and transportation BEFORE playing.\")\n\tadapter.createGame().then(res=> {\n\t\tfetchGame();\n\t})\n }\n\n\n//capitalize first letter in player names\nfunction capitalizeWord(string){\n\tconst s = string.toLowerCase()\n\treturn s.charAt(0).toUpperCase() + s.slice(1)\n}\n\n\n//fuctions to create and retrieve turns\nfunction gameTurns(button,buttonFunction){\n\tbutton.addEventListener(\"click\", buttonFunction,false);\n\tbutton.addEventListener(\"click\", getScoreboard,false);\n\tbutton.addEventListener(\"click\", function(){generateDare(listOfDares)},false);\n\tbutton.addEventListener(\"click\", function(){createTurn()},false);\n}\n\n//reveal past dares in info space\nfunction showGameDares(){\t\n\tvar pastDares = [];\n\tlet currentName = \"\"\n\tlet currentText = \"\"\n\tfor(let i = 0; i < listOfGameTurns.length; i++)\n\t{\t\n\n\t\tcurrentName = Object.values(currentPlayers).find(x => x.id === listOfPlayerTurns[listOfGameTurns[i].player_turn_id-1].player_id).name\n\t\tcurrentText = listOfDares.find(x => x.id == listOfPlayerTurns.find(t => t.id ===[listOfGameTurns[i].player_turn_id]).dare_id).text\n\n\t\t pastDares += `\n \t\t<span> \n \t\t\tturn: ${(i+1)}<br>\n \t\t\tplayer: ${currentName}<br>\n\t\t\t\t\n \t\t\tdare: ${currentText}<br>\n\t\t\t<br>\n \t\t</span>\n \t`\n\t}\n\tinfoSpace.innerHTML= `<br><br><div class=\"ui raised segment\" id=\"past_dares\">\n \t\t<a class=\"ui red ribbon label\">All Past Dares</a>\n \t\t<br><br>`+pastDares +`</div>`;\n}\n\nfunction showPlayersDares(){\n\tvar playerDares = [];\n\tfor(let i = 0; i < listOfPlayersTurns.length; i++)\n\t{\t\n\t\t playerDares += `\n \t\t<span> \n \t\t\tturn: ${(i+1)}<br><br>\n \t\t\tdare: ${listOfDares[(listOfPlayersTurns[i].dare_id-1)].text}<br>\n\t\t\t<br>\n \t\t</span>\n\n \t`\n\t}\n\tinfoSpace.innerHTML= `<br><br><div class=\"ui raised segment\" id=\"scores\">\n \t\t<a class=\"ui red ribbon label\">Your Past Dares</a>\n \t\t<br><br>`+playerDares +`</div>`\n}\n\nfunction showRules(){\n\tinfoSpace.innerHTML= `<br><br><div class=\"ui raised segment\" id=\"past_dares\">\n \t\t<a class=\"ui red ribbon label\">Rules</a>\n \t\t<br><br>Welcome to Double Dog Dare <br><br> the rules are simple first one to 10 points wins! The turns go in order from the first person added to the last. \n \t\tWhen it is your turn you have the choice of: <br><br>  1. Doing the dare and gaining the points (if your dare involves another perosn they must also agree). <br><br> 2. Taking the penalty shot(s)\n \t\tallowing you to pass the dare without losing any points. <br><br> 3. Passing the dare avoiding the penalty shot(s) but also losing the losing the \n \t\tsame amount of points you would have gained(only if you have enough points to do so).  <br><br> 4. If you choose to not participate in any dare that is not your own you must take a shot and the the turn player may gain the points\n \t\t</div>`;\n}\n\nfunction createTurn(){\n\tadapter.createPlayerTurn(currentPlayer.id, currentDare.id).then(res => {\n\t\tfetchPlayerTurns();\n\t\tfetchPlayersTurns();\n\t})\n}\n\nfunction createGameTurn(){\n\tadapter.createGameTurn(gameId,listOfPlayerTurns[listOfPlayerTurns.length-1].id).then (res => {\n\tfetchGameTurns();\n\t})\n}\n\n\n\nfunction getScoreboard(){\t\n\tvar theScore = [];\n\tfor(let i = 0; i < Object.keys(currentPlayers).length; i++)\n\t{\t\n\t\t theScore += `\n \t\t<span> \n \t\t\t${currentPlayers[i].name}<br>\n \t\t\tscore: ${currentPlayers[i].score}<br>\n\t\t\tshots: ${currentPlayers[i].shots}<br>\n\t\t\t<br>\n \t\t</span>\n\n \t`\n\t}\n\tinfoSpace.innerHTML= `<br><br><div class=\"ui raised segment\" id=\"scores\">\n \t\t<a class=\"ui red ribbon label\">Scoreboard</a>\n \t\t<br><br>`+theScore +`</div>`\n\n}\n\n\nfunction doneDare(){\n\t if (previousDares.length >= 1){\n\t\tif ((currentPlayer.score + currentDare.points)<0) {\n\t\t\talert(\"you dont have enough points!\\n You will be given a new dare!!\")\n\t\t}\n\t\telse if (currentPlayer.score + currentDare.points >= winScore) {\n\t\t\tcurrentPlayer.addScore();\n\t\t \tgameWon()\t\n\t\t}\n\t\telse {\n\t\t\tcurrentPlayer.addScore();\n\t\t\tTurnPlayer();\n\t\t}\n\t\tplayerScore.innerHTML = currentPlayer.score\t\n\t}\n\telse{\n\t\tshotButton.disabled=false\n\t\tpassButton.disabled=false\n\t\t// buttons for scoreboard, rules, player dares, and game dares\n\t\tintro.innerHTML = \"\";\n\t\tplayerDareButton.addEventListener(\"click\", showPlayersDares,false);\n\t\tallDaresButton.addEventListener(\"click\", showGameDares,false);\n\t\truleButton.addEventListener(\"click\", showRules,false);\n\t\tscoreboard.addEventListener(\"click\", getScoreboard,false);\n\t\tTurnPlayer();\n\t}\n\t\t\n}\n\nfunction shotDare(){\n\tif(leftMenu.childNodes.length>13){\n\t\t removeEvent()\n\t\t playButton.disabled = false\n\t}\n\telse{\n\t\tcurrentPlayer.addShot()\n\t\tgetScoreboard()\n\t\tTurnPlayer();\n\t}\n}\n\nfunction passDare(){\n\tif (currentPlayer.score <=0) {\n\t\talert(\"you dont have any points! \\nYou will have to do the dare or take the penalty shot(s).\")\n\t}\n\telse if ((currentPlayer.score - currentDare.points)<0) {\n\t\talert(\"you dont have enough points to pass this dare! \\nYou will have to do the dare or take the penalty shot(s).\")\n\t}\n\telse if (currentDare.points < 0) {\n\t\tcurrentPlayer.addScore();\n\t\tplayerScore.innerHTML = currentPlayer.score;\n\t \n\t \tgetScoreboard();\n\t \tTurnPlayer();\n\t \tgenerateDare(listOfDares)\n\t\tcreateTurn()\n\t}\n\telse if (leftMenu.childNodes.length>13){\n\t\t removeEvent()\n\t\t playButton.disabled = false\n\t}\n\telse{\n\t \tcurrentPlayer.subtractScore()\n\t \tplayerScore.innerHTML = currentPlayer.score;\n\t \t\n\t \tgetScoreboard();\n\t \tTurnPlayer();\n\t \tgenerateDare(listOfDares)\n\t\tcreateTurn()\n\t}\n}\n\n//cycles through the list of players\nfunction TurnPlayer(){\n\tif (currentId >= Object.keys(currentPlayers).length-1) {\n\t\tcurrentId = -1;\n\n\t}\n\tcurrentId ++\n\tcurrentPlayer = currentPlayers[currentId];\n\n\tturnPlayer.innerHTML = \"Turn Player: \"+ currentPlayer.name;\n\tplayerScore.innerHTML = currentPlayer.score;\n\tplayerShots.innerHTML = currentPlayer.shots;\n}\n\n\n//retieves game id\nfunction fetchGame(){\n\tadapter.getGame()\n\t.then(games => retrieveGame(games))\n}\n\n//collects dares from backend.\nfunction fetchDares() {\n\tadapter.getDares()\n\t.then(dares => retrieveDares(dares))\t\n}\n\n//collects players from backend.\nfunction fetchPlayers() {\n\tadapter.getPlayers(gameId)\n\t.then(players => retrievePlayers(players))\t\n}\n\n\n//collects player turns from backend.\nfunction fetchPlayerTurns(){\n\tadapter.getPlayerTurns()\n\t\t.then(playerTurns => retrievePlayerTurns(playerTurns))\n}\n\n//collects certain player turns\nfunction fetchPlayersTurns(){\n\tadapter.getPlayerTurns()\n\t\t.then(playerTurns => retrievePlayersTurns(playerTurns))\n}\n\n//collects game turns from backend.\nfunction fetchGameTurns(){\n\tadapter.getGameTurns(gameId)\n\t\t.then(gameTurns => retrieveGameTurns(gameTurns))\n}\n\nfunction  retrieveGame(games){\n\tlistOfGames = [];\n\tgames.forEach(game=> {\t\t\n\t\tlistOfGames.push(game);\t\n\t});\n\n\n\tgameId = listOfGames[(listOfGames.length-1)].id;\n\twinScore = listOfGames[(listOfGames.length-1)].winScore;\n\t\n\n\n}\n\n//all loaded Dares\nfunction  retrieveDares(dares){\n\tlet dareList = [];\n\tdares.forEach(dare=> {\t\t\n\t\tdareList.push(dare);\t\n\t});\n\tlistOfDares = dareList;\n}\n\n\n//all loaded players\nfunction  retrievePlayers(players){\n\tlet i = 0\n\tplayers.forEach(player=> {\t\t\n\t\tcurrentPlayers[i] = new Player(player.id, player.name, player.score, player.shots)\n\t\ti++\t\n\t});\n}\n\n//load player turns\nfunction retrievePlayerTurns(playerTurns){\n\tlet playerTurnList = [];\n\tplayerTurns.forEach(turn=>{\n\t\tplayerTurnList.push(turn)\n\t});\n\tlistOfPlayerTurns = playerTurnList;\n\tcreateGameTurn();\n}\n\n//load game turns \nfunction retrieveGameTurns(gameTurns){\n\tlet gameTurnsList = [];\n\tgameTurns.forEach(gameTurn=>{\n\t\tgameTurnsList.push(gameTurn)\n\t});\n\tlistOfGameTurns = gameTurnsList;\n}\n\n//load current players turns\nfunction retrievePlayersTurns(playerTurns){\n\tlet playersTurnList = [];\n\tplayerTurns.forEach(turn=>{\n\t\tif (turn.player_id === currentPlayer.id)\n\t\t{\n\t\t\tplayersTurnList.push(turn)\n\t\t}\n\t\t\n\t});\n\tlistOfPlayersTurns = playersTurnList;\n\t}\n\n//randomly selects a Player.\nfunction generatePlayer(){\n\treturn Math.floor(Math.random() * (Object.keys(currentPlayers).length));\n}\n\nfunction generateEvent(){\n\tvar node = document.createElement(\"A\");\n\tnode.setAttribute(\"id\", \"event\");\n\tnode.setAttribute(\"class\", \"item\");\n\tvar textnode = document.createTextNode(\"\");\n\tnode.appendChild(textnode);\n\tleftMenu.appendChild(node)\n\n\teventSpace = document.getElementById(\"event\");\n}\n\nfunction removeEvent(){\n\tleftMenu.removeChild(leftMenu.childNodes[13]); \n}\n\nfunction removelistener(){\n\teventSpace.removeEventListener(\"click\", function(){startTimer(15, eventSpace)},false);\n}\n\n//randomly selects a dare.\nfunction generateDare()   \n {\t\t \n \tlet ranDare = Math.floor(Math.random() * (listOfDares.length));\n \tcurrentDare = listOfDares[ranDare];\t\n \tlet dareText = currentDare.text\n\n\t//checks to see if a random player needs to be inserted\n\tif(recentDares.includes(currentDare.id)){\n\t\tconsole.log(currentDare.text);\n\t\tconsole.log(\"dare recently occured, generating new one\");\n\t\tgenerateDare();\n\t}\n\telse{\n\t\tif (currentDare.text.includes(\"15 seconds\")){\n\t\t\tplayButton.disabled = true;\n    \t\tgenerateEvent();\n    \t\teventSpace.textContent = \"Start Timer\";\n    \t\teventSpace.addEventListener(\"click\", function(){startTimer(15, eventSpace)},false);\n    \t\tremovelistener();\n\n\t\t}\n\t\telse if (currentDare.text.includes(\"Flip a coin\")) {\n\t\t\tplayButton.disabled = true;\n\t\t\tgenerateEvent();\n    \t\teventSpace.textContent = \"Flip A Coin\";\n    \t\teventSpace.addEventListener(\"click\", function(){coinFlip(4, eventSpace)},false);\n    \t\tremovelistener();\n\n\t\t}\t\n\t\telse if (dareText.includes(\"[RandomPlayer]\")){\n\t\t\trandomPlayer=  generatePlayer();\n\t\t\tselectedPlayer = currentPlayers[randomPlayer];\n\t\t\t//stops current player from being the random player\n\t\t\tif (selectedPlayer.id === currentPlayer.id){\n\t\t\t\twhile (selectedPlayer.id === currentPlayer.id){\n\t\t\t\t\trandomPlayer=  generatePlayer();\n\t\t\t\t\tselectedPlayer = currentPlayers[randomPlayer];\n\t\t\t\t}\n\t\t\t}\n\t\t\tdareText = dareText.replace(\"[RandomPlayer]\", selectedPlayer.name);\n\t\t}\n\t\telse if (currentDare.text.includes(\"x is the\") && currentPlayer.shots < 3){\n\t\n\t\t\t\tconsole.log(\"new dare was chosen\")\n\t\t\t\tgenerateDare();\t\n\t\t}\n\t\t\n\t \t\n\t\tshowDare.innerHTML = dareText +\n\t\t`<br><br><span>points: </span>`+ currentDare.points + `<br> <span>penalty shot(s): </span>`+ currentDare.shots;\n\t\tdareArchive(currentDare);\n\t\n\t\tif (listOfGameTurns.length >= 10){\n\t\trecentDares.shift();\n\t\trecentDares.push(currentDare.id);\n\t\t}\n\t\telse{\n\t\t\trecentDares.push(currentDare.id);\n\t\t}\n\t}\t\n }\n\n\t function startTimer(duration, display) {\n\t    let timer = duration, minutes, seconds;\n\t    setInterval(function () {\n\t        minutes = parseInt(timer / 60, 10);\n\t        seconds = parseInt(timer % 60, 10);\n\n\t        minutes = minutes < 10 ? \"0\" + minutes : minutes;\n\t        seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n\t        display.textContent = minutes + \":\" + seconds;\n\n\t        if (--timer === -1) {\n\t            removeEvent()\n\t            playButton.disabled = false\n\t        }\n\t\t}, 1000);\n\t}\n\n\t function coinFlip(duration, display) {\n\t    let timer = duration, minutes, seconds;\n\t    setInterval(function () {\n\t        minutes = parseInt(timer / 60, 10);\n\t        seconds = parseInt(timer % 60, 10);\n\n\t        minutes = minutes < 10 ? \"0\" + minutes : minutes;\n\t        seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n\t        display.textContent = display = (Math.floor(Math.random() * 2) === 0) ? 'heads' : 'tails';\n\n\n\t        if (--timer === -1) {\n\t            removeEvent()\n\t            playButton.disabled = false\n\t        }\n\t\t}, 1000);\n\t}\n//        if (timer == 3)\n//\t        \tdisplay = (Math.floor(Math.random() * 2) == 0) ? 'heads' : 'tails';\n//\t     \telse if (--timer == 0) {\n//    \t\t\tremoveEvent()\n//    \t\t}\n//creates archive for all players of current game\n\tfunction dareArchive(currentDare) {\n\t\tpreviousDares.push(currentDare);\n\t}\n"]},"metadata":{},"sourceType":"module"}